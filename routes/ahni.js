// Code from Step 6 remains the same